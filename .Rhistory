rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit3 <- read.table(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
visit3csv <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
View(visit3csv)
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOne <- CreateTableOne(vars = vars, data = visit3)
tableOne
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
#visit3 <- read.table(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOne,noSpaces=T),file.out)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOne <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOne,noSpaces=T),file.out)
table(visit3$hdl3cat)
table(visit3$ldl5cat)
#visit3 <- read.table(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOne <- CreateTableOne(vars = vars, data = visit1)
tableOne
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
tableOnev1$ContTable
tableOnev1$CatTable
table3cat = cbind (tableOnev1$CatTable, tableOnev2$CatTable, tableOnev3$CatTable)
View(table3cat)
table3cat
v1cat = tableOnev1$CatTable
v1cat = data.frame(tableOnev1$CatTable)
table3cat = merge(tableOnev1$CatTable, tableOnev2$CatTable, tableOnev3$CatTable)
tableOnev1$ContTable
tableOnev2$ContTable
tableOnev3$ContTable
tableOnev1$ContTable$Overall
tableOnev1$ContTable$Overall[[1]]
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
tableOnev1$ContTable$Overall[[2]]
tableOnev1$ContTable$Overall[[3]]
tableOnev1$ContTable$Overall$Sex
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
View(tab1V3)
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
View(tab1V1)
file.out <- paste (dir_data,"jhsv2tabone.csv",sep ="" )
write.csv(print(tableOnev2,noSpaces=T),file.out)
tab1V2 = read.csv(file = paste (dir_data,"jhsv2tabone.csv",sep ="" ))
View(tab1V2)
BigTabOne = merge(tab1V1, tab1v2, tab1v3, by = "X")
BigTabOne = merge(tab1V1, tab1V2, tab1V3, by = "X")
BigTabOne = cbind(tab1V1, tab1V2, tab1V3)
tab1V1
cbind(tab1V1, tab1V2, by = "X")
BigTabOne = merge(tab1V1, tab1V2, by = "X")
View(BigTabOne)
View(BigTabOne)
View(tab1V1)
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
View(tab1labels)
row.names(tab1V3) = as.character(tab1labels$Jackson.Heart.Study)
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
View(tab1labels)
row.names(tab1V3) = as.character(tab1labels$Jackson.Heart.Study)
View(tab1labels)
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
View(tab1labels)
row.names(tab1V3) = as.character(tab1labels$Jackson.Heart.Study)
View(tab1V3)
row.names(tab1V2) = as.character(tab1labels$Jackson.Heart.Study)
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
row.names(tab1V3) = tabonerows
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
tableOnev2
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
View(tab1V1)
# Create Table One for Visit 2
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
file.out <- paste (dir_data,"jhsv2tabone.csv",sep ="" )
write.csv(print(tableOnev2,noSpaces=T),file.out)
tab1V2 = read.csv(file = paste (dir_data,"jhsv2tabone.csv",sep ="" ))
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
# Create Table One for Visit 3 with no stratification
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
row.names(tab1V3) = tabonerows
View(tab1V3)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
row.names(tab1V1) = tabonerows
View(tab1V3)
View(tab1V1)
View(visit1)
View(visit1)
table(visit3$MIHx)
table(visit1$MIHx)
table(visit2$MIHx)
row.names(tab1v1)[1:12] = tabonerows[1:12]
row.names(tab1V1)[1:12] = tabonerows[1:12]
View(tab1V1)
row.names(tab1V1)[13:28] = tabonerows[14:29]
View(tab1V1)
bigtab = merge(tab1V1,tab1V3, by = row.names(tab1V3))
bigtab = cbind(tab1V3[1:12],tab1V1[1:12])
bigtab = cbind(tab1V3[1:12,],tab1V1[1:12],)
bigtab = tab1V3
View(bigtab)
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
# Blood pressure variable needs to be changed to Leslie's SAS algorithm
# Used the eGFR ckdepi measure
# Create Table One for Visit 3 with no stratification
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
View(bigtab)
row.names(bigtab) = tabonerows
View(bigtab)
bigtab$X = NULL
View(bigtab)
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
View(bigtab)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
View(tab1V1)
bigtab[1:12,2] = tab1V1$Overall[1:12]
View(bigtab)
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28,2]
bigtab[c(1:12,14:29),2]
View(bigtab)
bigtab[1:12,2] = tab1V1$Overall[1:12,2]
bigtab[1:12,2] = tab1V1$Overall[1:12]
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28]
View(bigtab)
View(tab1V1)
tab1V1$Overall[29]
typeof(tab1V1$Overall[29])
View(tab1V1)
bigtab[30,2] = tab1V1$Overall[29]
View(bigtab)
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
# Blood pressure variable needs to be changed to Leslie's SAS algorithm
# Used the eGFR ckdepi measure
# Create Table One for Visit 3 with no stratification
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
row.names(bigtab) = tabonerows
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
# Create Table One for Visit 1
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28]
View(bigtab)
bigtab[33,2] = tab1V1$Overall[29]
View(bigtab)
bigtab[1,2] - bigtab[33,2]
as.numeric(bigtab[33,2])
bigtab[33,2] = tab1V1$Overall[29]
number = bigtab[33,2]
number
number = substr(bigtab[33,2],1,3)
number
number = as.numeric(substr(bigtab[33,2],1,3))
number
bigtab$V2[1] - number
as.numeric(bigtab$V2[1]) - number
bigtab$V2
bigtab$V2[1]
typeof(bigtab$V2[1])
Nos = bigtab$V2[1] - number
as.numeric(bigtab$V2[1])
bigtab[1,2]
total = bigtab[1,2]
total - number
as.numeric(total)
total = substr(bigtab[1,2],1,4)
total
total = as.numeric(substr(bigtab[1,2],1,4))
total
Nos = total - number
Nos
View(bigtab)
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
row.names(bigtab) = tabonerows
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28]
bigtab[33,2] = tab1V1$Overall[29]
NOs = as.numeric(substr(bigtab[1,2],1,4)) - as.numeric(substr(bigtab[33,2],1,3))
Nopercent = NOs/as.numeric(substr(bigtab[1,2],1,4))
bigtab[32,2] = paste(NOs,"(",Nopercent,")",sep = "")
charNo = paste(NOs,"(",Nopercent,")",sep = "")
Nopercent = round(NOs/as.numeric(substr(bigtab[1,2],1,4)),2)
Nopercent
charNo = paste(NOs,"(",Nopercent,")",sep = "")
charNo
bigtab[32,2] = charNo
bigtab$V2[32] = charNo
View(bigtab)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
file.out <- paste (dir_data,"jhsv2tabone.csv",sep ="" )
write.csv(print(tableOnev2,noSpaces=T),file.out)
tab1V2 = read.csv(file = paste (dir_data,"jhsv2tabone.csv",sep ="" ))
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
# Blood pressure variable needs to be changed to Leslie's SAS algorithm
# Used the eGFR ckdepi measure
# Create Table One for Visit 3 with no stratification
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
row.names(bigtab) = tabonerows
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
View(bigtab)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
bigtab[1:29,2] = tab1V1$Overall[1:29]
View(bigtab)
bigtab[33,2] = tab1V1$Overall[29]
NOs = as.numeric(substr(bigtab[1,2],1,4)) - as.numeric(substr(bigtab[33,2],1,3))
Nopercent = round(NOs/as.numeric(substr(bigtab[1,2],1,4)),2)
charNo = paste(NOs,"(",Nopercent,")",sep = "")
bigtab$V2[32] = charNo
View(bigtab)
bigtab[33,2] = tab1V1$Overall[30]
View(bigtab)
Nopercent = round(NOs/as.numeric(substr(bigtab[1,2],1,4)),2)
charNo = paste(NOs,"(",Nopercent,")",sep = "")
charNo
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
visit2$eGFRckdepi
View(tab1V1)
tab1V2
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
file.out <- paste (dir_data,"jhsv2tabone.csv",sep ="" )
write.csv(print(tableOnev2,noSpaces=T),file.out)
tab1V2 = read.csv(file = paste (dir_data,"jhsv2tabone.csv",sep ="" ))
View(tab1V2)
