row.names(tab1v1)[1:12] = tabonerows[1:12]
row.names(tab1V1)[1:12] = tabonerows[1:12]
View(tab1V1)
row.names(tab1V1)[13:28] = tabonerows[14:29]
View(tab1V1)
bigtab = merge(tab1V1,tab1V3, by = row.names(tab1V3))
bigtab = cbind(tab1V3[1:12],tab1V1[1:12])
bigtab = cbind(tab1V3[1:12,],tab1V1[1:12],)
bigtab = tab1V3
View(bigtab)
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
# Blood pressure variable needs to be changed to Leslie's SAS algorithm
# Used the eGFR ckdepi measure
# Create Table One for Visit 3 with no stratification
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
View(bigtab)
row.names(bigtab) = tabonerows
View(bigtab)
bigtab$X = NULL
View(bigtab)
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
View(bigtab)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
View(tab1V1)
bigtab[1:12,2] = tab1V1$Overall[1:12]
View(bigtab)
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28,2]
bigtab[c(1:12,14:29),2]
View(bigtab)
bigtab[1:12,2] = tab1V1$Overall[1:12,2]
bigtab[1:12,2] = tab1V1$Overall[1:12]
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28]
View(bigtab)
View(tab1V1)
tab1V1$Overall[29]
typeof(tab1V1$Overall[29])
View(tab1V1)
bigtab[30,2] = tab1V1$Overall[29]
View(bigtab)
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
# Blood pressure variable needs to be changed to Leslie's SAS algorithm
# Used the eGFR ckdepi measure
# Create Table One for Visit 3 with no stratification
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
row.names(bigtab) = tabonerows
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
# Create Table One for Visit 1
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28]
View(bigtab)
bigtab[33,2] = tab1V1$Overall[29]
View(bigtab)
bigtab[1,2] - bigtab[33,2]
as.numeric(bigtab[33,2])
bigtab[33,2] = tab1V1$Overall[29]
number = bigtab[33,2]
number
number = substr(bigtab[33,2],1,3)
number
number = as.numeric(substr(bigtab[33,2],1,3))
number
bigtab$V2[1] - number
as.numeric(bigtab$V2[1]) - number
bigtab$V2
bigtab$V2[1]
typeof(bigtab$V2[1])
Nos = bigtab$V2[1] - number
as.numeric(bigtab$V2[1])
bigtab[1,2]
total = bigtab[1,2]
total - number
as.numeric(total)
total = substr(bigtab[1,2],1,4)
total
total = as.numeric(substr(bigtab[1,2],1,4))
total
Nos = total - number
Nos
View(bigtab)
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
row.names(bigtab) = tabonerows
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
bigtab[c(1:12,14:29),2] = tab1V1$Overall[1:28]
bigtab[33,2] = tab1V1$Overall[29]
NOs = as.numeric(substr(bigtab[1,2],1,4)) - as.numeric(substr(bigtab[33,2],1,3))
Nopercent = NOs/as.numeric(substr(bigtab[1,2],1,4))
bigtab[32,2] = paste(NOs,"(",Nopercent,")",sep = "")
charNo = paste(NOs,"(",Nopercent,")",sep = "")
Nopercent = round(NOs/as.numeric(substr(bigtab[1,2],1,4)),2)
Nopercent
charNo = paste(NOs,"(",Nopercent,")",sep = "")
charNo
bigtab[32,2] = charNo
bigtab$V2[32] = charNo
View(bigtab)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
file.out <- paste (dir_data,"jhsv2tabone.csv",sep ="" )
write.csv(print(tableOnev2,noSpaces=T),file.out)
tab1V2 = read.csv(file = paste (dir_data,"jhsv2tabone.csv",sep ="" ))
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
# Blood pressure variable needs to be changed to Leslie's SAS algorithm
# Used the eGFR ckdepi measure
# Create Table One for Visit 3 with no stratification
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
row.names(bigtab) = tabonerows
bigtab$X = NULL
colnames(bigtab) = "Visit 3"
View(bigtab)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
bigtab[1:29,2] = tab1V1$Overall[1:29]
View(bigtab)
bigtab[33,2] = tab1V1$Overall[29]
NOs = as.numeric(substr(bigtab[1,2],1,4)) - as.numeric(substr(bigtab[33,2],1,3))
Nopercent = round(NOs/as.numeric(substr(bigtab[1,2],1,4)),2)
charNo = paste(NOs,"(",Nopercent,")",sep = "")
bigtab$V2[32] = charNo
View(bigtab)
bigtab[33,2] = tab1V1$Overall[30]
View(bigtab)
Nopercent = round(NOs/as.numeric(substr(bigtab[1,2],1,4)),2)
charNo = paste(NOs,"(",Nopercent,")",sep = "")
charNo
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
visit2$eGFRckdepi
View(tab1V1)
tab1V2
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
file.out <- paste (dir_data,"jhsv2tabone.csv",sep ="" )
write.csv(print(tableOnev2,noSpaces=T),file.out)
tab1V2 = read.csv(file = paste (dir_data,"jhsv2tabone.csv",sep ="" ))
View(tab1V2)
rm(list=ls())
library(tableone)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit3[varsToFactor] <- lapply(visit3[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit3))
tableOnev3 <- CreateTableOne(vars = vars, data = visit3)
file.out <- paste (dir_data,"jhsv3tabone.csv",sep ="" )
write.csv(print(tableOnev3,noSpaces=T),file.out)
tab1V3 = read.csv(file = paste (dir_data,"jhsv3tabone.csv",sep ="" ))
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
bigtab = tab1V3
row.names(bigtab) = tabonerows
bigtab$X = NULL
colnames(bigtab) = "V3"
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx")
visit1[varsToFactor] <- lapply(visit1[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx")
dput(names(visit1))
tableOnev1 <- CreateTableOne(vars = vars, data = visit1)
file.out <- paste (dir_data,"jhsv1tabone.csv",sep ="" )
write.csv(print(tableOnev1,noSpaces=T),file.out)
tab1V1 = read.csv(file = paste (dir_data,"jhsv1tabone.csv",sep ="" ))
bigtab[1:29,2] = tab1V1$Overall[1:29]
bigtab[33,2] = tab1V1$Overall[30]
NOs = as.numeric(substr(bigtab[1,2],1,4)) - as.numeric(substr(bigtab[33,2],1,3))
Nopercent = round(NOs/as.numeric(substr(bigtab[1,2],1,4)),2)
charNo = paste(NOs,"(",Nopercent,")",sep = "")
bigtab$V2[32] = charNo  # This line doesn't work quite right....
colnames(bigtab)[2] = "v1"
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CVDHx", "MIHx")
visit2[varsToFactor] <- lapply(visit2[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","hsCRP", "hdl","hdl3cat","ldl","ldl5cat","CVDHx","MIHx")
dput(names(visit2))
tableOnev2 <- CreateTableOne(vars = vars, data = visit2)
file.out <- paste (dir_data,"jhsv2tabone.csv",sep ="" )
write.csv(print(tableOnev2,noSpaces=T),file.out)
tab1V2 = read.csv(file = paste (dir_data,"jhsv2tabone.csv",sep ="" ))
View(bigtab)
bigtab[c(1:11,13:27),3] = tab1V2$Overall[1:26]
View(bigtab)
bigtab[c(1:11,13:27,29),3] = tab1V2$Overall[c(1:26,30)]
View(bigtab)
bigtab[c(1:11,13:27,29:33),3] = tab1V2$Overall[c(1:26,30:34)]
View(bigtab)
bigtab = bigtab[,c(2,3,1)]
colnames(bigtab) = c("Visit 1","Visit 2","Visit 3")
View(bigtab)
bigtab[34,1] = "Newline"
typeof(bigtab)[33,1]
typeof(bigtab[33,1])
bigtab[34,1] = 50
View(bigtab)
colnames(bigtab) = c("Visit 1","Visit 2","Visit 3")
bigtabdf = data.frame(bigtab)
View(bigtabdf)
typeof(bigtabdf$Visit.1)
bigtabdf$Visit.1[34] = 2
bigtab[33,1]
library(sas7bdat)
rm(list=ls())
library(tableone)
library(sas7bdat)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
save1_dir = 'C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data\Visit1'
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data\Visit1"
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1"
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
View(v1trhtn)
v1total = merge(visit1,v1trhtn)
View(v1total)
table(visit1$sex)
able(v1trhtn$sex)
table(v1trhtn$sex)
View(visit1)
View(v1trhtn)
v1total = merge(visit1,v1trhtn, by = subjid)
View(v1trhtn)
View(visit1)
typeof(visit1$subjid)
typeof(v1trhtn$subjid)
rm(list=ls())
library(tableone)
library(sas7bdat)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
View(v1trhtn)
View(visit1)
View(v1trhtn)
v1total = merge(visit1,v1trhtn, by = "subjid")
View(v1trhtn)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx","prevatrh")
v1total[varsToFactor] <- lapply(v1total[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx","prevatrh")
dput(names(v1total))
tableOnev1 <- CreateTableOne(vars = vars, data = v1total)
tableOnev1
rm(list=ls())
library(tableone)
library(sas7bdat)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
v1total = merge(visit1,v1trhtn, by = "subjid")
View(v1trhtn)
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx","prevatrh","uncontrolledbp")
v1total[varsToFactor] <- lapply(v1total[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx","prevatrh","uncontrolledbp")
dput(names(v1total))
tableOnev1 <- CreateTableOne(vars = vars, data = v1total)
tableOnev1
v1total$visit = 1
View(v1total)
table(v1total$visit)
rm(list=ls())
library(tableone)
library(sas7bdat)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
v1total = merge(visit1,v1trhtn, by = "subjid")
v1total$visit = 1
rm(list=ls())
library(tableone)
library(sas7bdat)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
v1total = merge(visit1,v1trhtn, by = "subjid")
table(v1total$visit)
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
table(visit2$visit)
View(visit1)
View(visit1)
View(visit2)
totrbind = rbind (visit1,visit2)
common_cols <- intersect(colnames(visit1), colnames(visit2))
totrbind = rbind(visit1[,common_cols],visit2[,common_cols])
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx","prevatrh","uncontrolledbp")
totrbind[varsToFactor] <- lapply(totrbind[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx","prevatrh","uncontrolledbp")
dput(names(totrbind))
tableOne <- CreateTableOne(vars = vars, data = totrbind, strata = "visit")
tableOne
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
v1total = merge(visit1,v1trhtn, by = "subjid")
rm(list=ls())
library(tableone)
library(sas7bdat)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1/"
save2_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit2/"
save3_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit3/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
v1total = merge(visit1,v1trhtn, by = "subjid")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
v2trhtn = read.sas7bdat(paste(save2_dir, "trhtn_v2.sas7bdat", sep=""))
v2total = merge(visit1,v1trhtn, by = "subjid")
v2total = merge(visit2,v2trhtn, by = "subjid")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
v3trhtn = read.sas7bdat(paste(save3_dir, "trhtn_v3.sas7bdat", sep=""))
v3total = merge(visit3,v3trhtn, by = "subjid")
common_cols <- intersect(colnames(v1total), colnames(v2total),colnames(v3total))
common_cols <- intersect(colnames(v1total), colnames(v2total))
common_cols <- intersect(colnames(v3total), common_cols)
totrbind = rbind(v1total[,common_cols],v2total[,common_cols],v3total[,common_cols])
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx","prevatrh","uncontrolledbp")
totrbind[varsToFactor] <- lapply(totrbind[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx","prevatrh","uncontrolledbp")
dput(names(totrbind))
tableOne <- CreateTableOne(vars = vars, data = totrbind, strata = "visit")
tableOne
tab1labels = read.csv(file = paste (dir_data,"jhsv3tabonepretty.csv",sep ="" ))
tabonerows = as.character(tab1labels$Jackson.Heart.Study)
tabonerows
file.out <- paste (dir_data,"jhstabone.csv",sep ="" )
write.csv(print(tableOne,noSpaces=T),file.out)
row.names(tableOne) = tabonerows
tableOne
event_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Events/1-data/CSV/"
chdev = read.csv(file = paste(event_data, "incevtchd.csv",sep = ""), header=T,sep=",")
chdev = read.csv(file = paste(event_dir, "incevtchd.csv",sep = ""), header=T,sep=",")
View(chdev)
table(chdev$CHD.Last.Contact.Type)
hfev = read.csv(file = paste(event_dir, "incevthfder.csv",sep = ""), header=T,sep=",")
View(hfev)
table(hfev$Last.Contact.Type)
cohort_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Cohort/1-data/CSV/"
mort = read.csv(file = paste(cohort_dir, "cohort.csv",sep = ""), header=T,sep=",")
table(mort$AFU.Final.Status)
mort = read.csv(file = paste(cohort_dir, "deathltfucohort.csv",sep = ""), header=T,sep=",")
table(mort$AFU.Final.Status)
table(mort$Death.Indicator)
View(mort)
table(chdev$CHD.Last.Contact.Type)
table(hfev$Last.Contact.Type)
table(hfev$Last.Contact.Type)
View(chdev)
View(hfev)
View(mort)
View(chdev)
View(chdev)
View(mort)
inctab = merge(chdev,mort, by = "PARTICIPANT.ID")
View(chdev)
inctab = merge(chdev,mort, by = "Participant.ID")
View(mort)
inctab = merge(chdev,mort, by.x = "Participant.ID", by.y = "PARTICIPANT.ID")
View(inctab)
varsToFactor <- c("CHD.Last.Contact.Type","Death.Indicator")
inctab[varsToFactor] <- lapply(inctab[varsToFactor], factor)
vars <- c("CHD.Last.Contact.Type","Death.Indicator")
dput(names(inctab))
tableOne <- CreateTableOne(vars = vars, data = inctab)
tableOne
file.out <- paste (dir_data,"inctab.csv",sep ="" )
write.csv(print(tableOne,noSpaces=T),file.out)
View(v1total)
View(visit1)
rm(list=ls())
library(tableone)
library(sas7bdat)
dir_data = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/AnalysisData/1-data/CSV/"
save1_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit1/"
save2_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit2/"
save3_dir = "C:/Users/litkowse/Desktop/Vanguard_2016/Vanguard_2016/data/Visit3/"
visit1 <- read.csv(file = paste(dir_data, "analysis1.csv",sep = ""), header=T,sep=",")
v1trhtn = read.sas7bdat(paste(save1_dir, "trhtn_v1.sas7bdat", sep=""))
v1total = merge(visit1,v1trhtn, by = "subjid")
visit2 <- read.csv(file = paste(dir_data, "analysis2.csv",sep = ""), header=T,sep=",")
v2trhtn = read.sas7bdat(paste(save2_dir, "trhtn_v2.sas7bdat", sep=""))
v2total = merge(visit2,v2trhtn, by = "subjid")
visit3 <- read.csv(file = paste(dir_data, "analysis3.csv",sep = ""), header=T,sep=",")
v3trhtn = read.sas7bdat(paste(save3_dir, "trhtn_v3.sas7bdat", sep=""))
v3total = merge(visit3,v3trhtn, by = "subjid")
common_cols <- intersect(colnames(v1total), colnames(v2total))
common_cols <- intersect(colnames(v3total), common_cols)
totrbind = rbind(v1total[,common_cols],v2total[,common_cols],v3total[,common_cols])
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx","prevatrh","uncontrolledbp","waist","Diabetes","BMI")
totrbind[varsToFactor] <- lapply(totrbind[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx","prevatrh","uncontrolledbp","waist","Diabetes","BMI")
dput(names(totrbind))
tableOne <- CreateTableOne(vars = vars, data = totrbind, strata = "visit")
tableOne
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx","prevatrh","uncontrolledbp","Diabetes")
totrbind[varsToFactor] <- lapply(totrbind[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx","prevatrh","uncontrolledbp","waist","Diabetes","BMI")
dput(names(totrbind))
tableOne <- CreateTableOne(vars = vars, data = totrbind, strata = "visit")
tableOne
varsToFactor <- c("sex","BPjnc7","hdl3cat","ldl5cat", "CHDHx", "CVDHx", "MIHx","prevatrh","uncontrolledbp","Diabetes")
totrbind[varsToFactor] <- lapply(totrbind[varsToFactor], factor)
vars <- c("age","sex","sbp","dbp","BPjnc7","eGFRckdepi","HSCRP", "hdl","hdl3cat","ldl","ldl5cat","CHDHx","CVDHx","MIHx","prevatrh","uncontrolledbp","waist","Diabetes","BMI")
dput(names(totrbind))
tableOne <- CreateTableOne(vars = vars, data = totrbind, strata = "visit")
tableOne
typeof(totrbind$waist)
plot(density(totrbind$waist))
